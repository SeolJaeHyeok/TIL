Database의 본질은 Create,  Read, Update, Delete 즉, CRUD라고 부르는 것이다.

- Create
- Read
- Update
- Delete

----

데이터를 저장하기 위한 수단으로는 대표적으로 File, Spreadsheet, Database가 있다.

Spreadsheet는 File에서는 가능하지 못한 데이터의 구조화 및 가공을 가능하게 하는 수단이다.

Database는 Spreadsheet에서는 가능하지 못한 프로그래밍 언어를 통한 CRUD를 가능하게 하고 이는 곧 자동화를 할 수 있게 하는 수단이 된다.

즉, File과 Spreadsheet는 Database로 가는 길목에 존재하는 데이터 저장 수단이다.

- Database: SQL 이라는 컴퓨터 언어를 사용해 데이터 제어 가능
- Spreadsheet: 사용자의 클릭을 통해 데이터 제어 가능

데이터 베이스의 데이터들을 앱, 웹을 사용해 다른 이들에게도 보여줄 수 있음

----

# MySQL

테이블(Table): 데이터들이 저장되어 있는 표. 엑셀의 스트레트시트와 비슷한 구조를 지니고 있음

스키마(Schema) == 데이터베이스(Databse): 테이블들을 그룹핑(Grouping)하기 위한 일종의 디렉터리. 즉, 서로 연관된 데이터들을 그룹핑하기 위한 용도

데이터베이스 서버(Database Server): 그룹핑된 데이터들로 나누어진 여러 스키마들이 저장되어 있는 공간. Ex)MySQL, Oracel, MongoDB 등

<img src="./images/01.png" />

### 1. 터미널을 통해 MySQL 서버에 접속하는 방법

1. Terminal에 `/usr/local/mysql/bin` 을 입력한다.

   <img src="./images/02.png" />

2. `./mysql -u[사용자명] -p` 명령어를 입력하고 비밀번호를 입력한 다음 접속을 한다.

   <img src="./images/03.png" />

<img src="./images/04.png" />

### 2. 데이터베이스(스키마) 생성 및 삭제

1. 데이터베이스를 생성할 때는 `CREATE DATABASES;` 또는 `CREATE SCHEMA;`  명령어를 사용하여 생성한다. 

   대소문자 구분은 안하는 것 같은데 대문자를 사용하는 것이 일반적인 것 같다.

2. 데이터베이스를 삭제할 때는 `DROP DATABASES;` 또는 `DROP SCHEMA;` 명령어를 사용한다.

<img src="./images/05.png" />

### 3. 데이터베이스 목록 조회

1. 현재 데이터베이스 서버(MySQL)에 존재하는 데이터베이스의 목록을 조회하고 싶으면 `SHOW DATABASES;` 또는 `SHOW SCHEMA;` 명령어를 사용한다.

<img src="./images/06.png" />

### 4. 데이터베이스 사용

1. 존재하는 데이터베이스를 사용하려면 `USE [데이터베이스 명];` 명령어를 사용하면 된다.

<img src="./images/07.png" />

2. `Database changed` 문구가 보인다면 이제부터 작업하는 모든 명령은 현재 사용 중인 데이터베이스(여기서는 `milkboy`)에 있는 테이블을 대상으로 명령을 실행하게 된다.

### 5. Table

1. 테이블은 데이터가 저장된 표를 말한다. 관계형 데이터베이스 뿐만 아니라 대부분의 데이터베이스를 다루기 위해서는 정확히는 테이블을 다루기 위해서는 SQL이라는 언어를 사용한다.
2. 테이블의 가로축은 row, record, 행이라고 부른다. 이는 곧 데이터 그 자체를 뜻하고 row의 개수는 저장된 데이터의 개수를 뜻한다.
3. 테이블의 세로축을 column, 또는 열이라고 부른다. 이는 곧 데이터의 종류 혹은 데이터의 구조를 뜻한다.

<img src="./images/08.png" />

### 6 . Table의 생성

최종적으로 테이블의 column을 만들기 위한 코드를 보게 되면 아래와 같다.

<img src="./images/09.png" />

하나하나 살펴보며 column 및 데이터베이스를 어떻게 구성하는지를 살펴보도록 하자.

먼저 데이터베이스와 스프레드시트의 가장 큰 차이점은 데이터베이스는 각 column의 데이터 타입을 지정해야 한다는 것이다. 스프레드시트의 경우 하나의 column에 여러 데이터 타입이 들어와도 아무런 문제가 발생하지 않는다. 이는 데이터의 갯수가 적을 때는 편리할 수 있지만 데이터의 갯수가 아주 많을 때는   문제가 될 수 있다.

따라서 각 column의 데이터의 타입을 하나의 타입으로 규제함으로써 데이터의 통일성을 부여할 수 있고 만약 다른 데이터 타입이 들어오게 되면 에러를 발생시킬 수도 있다. 

이렇게 column의 데이터 타입을 강제하게 되면 데이터를 추출할 때 데이터 타입을 신경쓸 필요가 없다. 

> ❗️
>
> 참고 사이트 : [TechOnTheNet](https://www.techonthenet.com/mysql/datatypes.php), MySQL 뿐만 아니라 Oracle, MariaDB, PostgreSQL 등 많은 데이터베이스 서버들에 대한 정보를 찾을 수 있다.

#### 1. id column

<img src="./images/10.png" />

참고로 `;` 없이 엔터를 치게 되면 명령어를 실행하는 것이 아니라 줄바꿈을 한다. 

위 명령어를 해석하자면

 **' `id` column을 만드는데 데이터 타입은 11글자까지 보여지는 정수형으로 하고 공백을 허용하지 않으며 값이 자동으로 1씩 증가하는 컬럼을 만들어라'**

로 해석할 수 있다.

눈 여겨 봐야 할 것은 `NOT NULL` 인데 만약 딱히 공백이어도 문제가 없을 것 같은 column은(ex: 재산목록..?, 갑자기 생각나는게..) `NULL` 을 적어 공백을 허용하도록 하는 것이다. 하지만 꼭 입력되어야 하는 데이터라면 `NOT NULL` 을 입력하여 데이터를 입력받는 것이다.

또한 `AUTO_INCREMENT` 명령어를 사용하게 되면 자동으로 1씩 증가 되기 때문에 모든 `id` 은 중복되지 않게 된다. 즉, 중복되지 않는 식별자를 가지게 되는 것이다. 이는 곧 삭제나 수정 등의 작업을 하기 위해 꼭 필요한 작업이다.

### 2. 기타 다른 column

<img src="./images/11.png" />

위 명령어들을 해석해보면

'`title` column을 만드는데 공백을 허용하지 않고 데이터 타입은 문자열이면서 최대 100글자까지 입력을 받는다. '

'`description` column을 만드는데 공백을 허용하고 데이터 타입은 문자열이면서  최대 65,535글자까지 입력을 받는다.'

'`created` column을 만드는데 공백을 허용하지 않고 데이터 타입은 현재(데이터가 생성된) 날짜와 시간이다. '

'`author` column을 만드는데 공백을 허용하고 데이터 타입은 문자열이면서 최대 15글자까지 입력을 받는다. '

'`profile` column을 만드는데 공백을 허용하고 데이터 타입은 문자열이면서 최대 200글자까지 입력을 받는다. '

`PRIMARY KEY(id)` 는 메인 키를 설정하는 명령어다.

> 💬
>
>  `PRIMARY KEY` 를 설정하는 것은 크게 중복과 성능에 관련이 있는데 중복에 관하여 이야기를 해보면
>
> **데이터베이스에게 `PRIMARY KEY` 로 설정한 column은 중복이 되면 안된다고 알리는 것이다.** 
>
> 위의 예에서 `id` 는 각각의 데이터를 식별하기 위한 식별자로써의 역할을 하는 column이기 때문에 중복이 되면 안된다. 그렇기 때문에 `PRIMARY KEY(id)` 를 해줌으로써 id가 중복이 되지 않는 유일한 값이 되고 이는 id column의 역할인 각각의 데이터를 찾기 위한 용도를 정확하게 수행할 수 있게 만들어 준다.





