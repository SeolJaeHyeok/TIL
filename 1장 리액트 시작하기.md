# 2021.03.02 

## 1.1 왜 리액트인가?

#### 리액트 이해

- 구조가 MVC, MVW인 프레임워크와 달리 오직 V(view)만 신경쓰는 라이브러리
- 리액트는 데이터가 변할 때마다 화면을 새로 렌더링하게 되는데 이렇게 되면 구조가 간단해지고 코드양도 줄어든다
- 하지만 이 방식대로 하게 되면 CPU점유율도 크게 증가하고 메모리도 많이 사용하고 끊김 현상이 발생할 수 있다
- 이러한 방식을 최대한 성능을 아끼고 편안한 사용자 경험을 제공하면서 구현하고자 개발한 것이 React

#### Component

- Component란 리액트 프로젝트에서 특정 부분이 어떻게 생길지 정하는 선언체

- Component는 템플릿과 달리 재사용이 가능한 API로 수많은 기능들을 내장, 컴포넌트 하나에서 해당 컴포넌트의 생김새와 작동 방식을 정의

#### 초기 Rendering

- 사용자 화면에 뷰를 보여 주는 것을 뜻한다
- 어떠한 프레임워크든 맨 처음 어떻게 보일지를 정하는 초기 렌더링이 필요 => React에서는 이를 다루는 Render함수가 있다
- Render함수는 컴포넌트가 어떻게 생겼는지를 정의
- HTML형식의 문자열을 반환하지 않고, 뷰의 정보를 지닌 객체를 반환
- Component 내부에 또 다른 Component가 들어갈 수도 있는데 이때 render함수를 실행하면 내부에 있는 Component들도 재귀적으로 rendering한다.
- 최상위 Component의 rendering 작업이 끝나면 지니고 있는 정보들을 사용하여 HTML markup을 만들고, 이를 우리가 정하는 실제 페이지의 DOM 요소 안에 주입한다

#### 조화 과정(reconcilation)

- 조화 과정이란 말은 Component에서 데이터에 변화가 있을 때 우리가 보기에는 변화에 따라 뷰가 변형되는 것처럼 보이지만, 사실을 새로운 요소로 갈아끼우는 것이기 때문이다. 이 작업 또한 render함수가 맡아서 한다
- 그런 다음 render함수가 만들어낸 결과를 곧바로 DOM에 반영하지 않고 이전에 render함수가 만들었던 Component 정보와 현재 render함수가 만들었던 Component정보를 비교한다.
- 그리고 그 둘의 차이를 알아내 최소한의 연산으로 DOM 트리를 업데이트 하는 것이다.
- 결국 방식 자체는 루트노드부터 시작하여 전체 Component를 처음부터 다시 rendering하는 것처럼 보이지만, 사실 최적의 자원을 사용하여 이를 수행하는 것이다.

## 1.2 리액트의 특징

#### DOM

- 여기서 DOM이란 Document Object Model의 약어로써 객체로 문서 구조를 표현하는 방법으로 XML이라 HTML로 작성한다.
- 웹 브라우저는 DOM을 활용하여 객체에 JS나 CSS를 적용한다
- DOM은 트리 형태라서 특정 노드를 찾거나 수정하거나 제거하거나 원하는 곳에 삽입할 수 있다.

- DOM의 치명적인 한 가지 문제점은 동적 UI에 최적화되어 있지 않다는 것이다.
- 규모가 큰 애플리케이션에서 DOM에 직접 접근하여 변화를 주다 보면 성능 이슈(느려짐)가 조금씩 발생하기 시작한다. 이에 대한 해결법으로 최소한의 조작으로 작업을 처리하는 방식으로 개선할 수 있는데 리액트에서는 Virtual DOM 방식을 사용하여 DOM 업데이트를 추상화함으로써 DOM 처리 횟수를 최소화하고 효율적으로 진행한다.

#### Virtual DOM

- Virtual DOM을 사용하면 실제 DOM에 접근하여 조작하는 대신, 이를 추상화한 자바스크립트 객체를 구성하여 사용한다. 이는 마치 실제 DOM의 가벼운 사본과 비슷하다고 볼 수 있다.
- 리액트에서 데이터가 변하여 웹 브라우저에 실제 DOM을 업데이트 할 때는 다음 세 가지 절차를 밟는다
  1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링한다
  2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교한다
  3. 바뀐 부분만 실제 DOM에 적용한다

- Virtual DOM을 사용한다고 해서 사용하지 않을 때와 비교하여 무조건 빠른 것은 아니다. 리액트 메뉴얼에 다음과 같은 문장이 있다고 한다.

  > 지속적으로 데이터가 변화하는 대규모 애플리케이션 구축하기

  리액트와 Virtual DOM이 언제나 제공할 수 있는 것은 바로 업데이트 처리 간결성이다. 다시 말해 UI를 업데이트하는 과정에서 생기는 복잡함을 모두 해소하고, 더욱 쉽게 업데이트에 접근할 수 있다.

## 1.3 작업환경 설정

- 나는 이전에 리액트로 작은 프로젝트를 해본 적이 있기 때문에 리액트에 필요한 작업환경들이 준비가 되어있기에 이 부분은 따로 설명을 하지 않기로 하고 뒤에 있을 실습을 위해 create-react-app만 생성했다.	
- Create-react-app을 하려면 터미널에 

> yarn create react-app [프로젝트 이름] 또는
>
> npm init react-app [프로젝트 이름]

​		으로 리액트 프로젝트를 생성할 수 있다